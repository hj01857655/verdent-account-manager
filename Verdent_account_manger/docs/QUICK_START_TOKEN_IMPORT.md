# Token 导入功能 - 快速开始

## 🚀 5 分钟快速上手

### 步骤 1: 获取 Token

从浏览器获取 Verdent Token:

1. 打开 [Verdent AI](https://www.verdent.ai/) 并登录
2. 按 `F12` 打开开发者工具
3. 进入 `Application` (或 `存储`) 标签
4. 展开 `Cookies` -> `https://www.verdent.ai`
5. 找到 `token` 字段,复制其值

示例 Token:
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
```

### 步骤 2: 打开导入对话框

1. 启动 Verdent 账户管理器
2. 在主界面点击 **"📥 导入 Token"** 按钮 (绿色按钮)

### 步骤 3: 粘贴 Token

在弹出的对话框中:
- 将复制的 Token 粘贴到文本框
- 支持多行,每行一个 Token
- 空行会被自动忽略

### 步骤 4: 开始导入

1. 点击 **"开始导入"** 按钮
2. 等待导入完成 (显示 loading 状态)
3. 查看导入结果统计

### 步骤 5: 验证结果

导入成功后:
- ✅ 账户列表中出现新账户
- ✅ 显示完整的账户信息 (邮箱、订阅类型、额度等)
- ✅ Token 已保存

## 📸 界面预览

```
┌─────────────────────────────────────────────┐
│  📦 账户管理                                 │
│  ┌──────────────────────────────────────┐  │
│  │ 🔄 全部刷新 │ 📥 导入 Token │ ➕ 自动注册 │  │
│  └──────────────────────────────────────┘  │
└─────────────────────────────────────────────┘

点击 "📥 导入 Token" 后:

┌─────────────────────────────────────────────┐
│  📥 导入 Token                          ✕   │
├─────────────────────────────────────────────┤
│  💡 使用说明                                 │
│  • 每行粘贴一个 Token                        │
│  • 支持批量导入多个 Token                    │
│  • 如果邮箱已存在,将更新账户信息              │
│                                             │
│  Token 列表 (每行一个)                       │
│  ┌───────────────────────────────────────┐ │
│  │ eyJhbGci...                           │ │
│  │ eyJhbGci...                           │ │
│  │                                       │ │
│  └───────────────────────────────────────┘ │
│                                             │
│              [ 取消 ]  [ 开始导入 ]          │
└─────────────────────────────────────────────┘
```

## 💡 使用技巧

### 批量导入

一次导入多个 Token:
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.token1...
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.token2...
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.token3...
```

### 从文件导入

1. 将 Token 保存到文本文件 (每行一个)
2. 打开文件,全选复制 (`Ctrl+A`, `Ctrl+C`)
3. 粘贴到导入对话框

### 更新现有账户

如果导入的 Token 对应的邮箱已存在:
- 系统会自动更新该账户的信息
- 不会创建重复账户
- Token、额度等信息会被更新

## ⚡ 常见场景

### 场景 1: 导入单个账户

```
1. 点击 "📥 导入 Token"
2. 粘贴一个 Token
3. 点击 "开始导入"
4. 等待 2-3 秒
5. 看到 "导入完成! 成功: 1 个 失败: 0 个"
```

### 场景 2: 批量导入 5 个账户

```
1. 点击 "📥 导入 Token"
2. 粘贴 5 个 Token (每行一个)
3. 点击 "开始导入"
4. 等待 10-15 秒 (每个 Token 约 2-3 秒)
5. 看到 "导入完成! 成功: 5 个 失败: 0 个"
```

### 场景 3: 更新账户信息

```
1. 从浏览器获取最新的 Token
2. 点击 "📥 导入 Token"
3. 粘贴 Token
4. 点击 "开始导入"
5. 系统自动更新该账户的额度、订阅等信息
```

## ❓ 常见问题

### Q: 导入后密码为空?
**A**: 正常现象。通过 Token 导入的账户没有密码。如需使用"测试登录"功能,请手动编辑账户添加密码。

### Q: 导入失败怎么办?
**A**: 检查:
1. Token 是否有效 (未过期)
2. 网络连接是否正常
3. 查看错误提示信息

### Q: 可以导入多少个 Token?
**A**: 理论上没有限制,但建议每次不超过 20 个。

### Q: 导入需要多长时间?
**A**: 
- 单个 Token: 2-3 秒
- 批量导入: 每个 Token 约 2-3 秒 + 500ms 延迟

### Q: 如何获取 Token?
**A**: 
1. 从浏览器 Cookies 中获取
2. 从已登录的账户中复制
3. 从其他工具导出

## 🎯 导入结果说明

### 成功导入

```
导入完成!

成功: 3 个
失败: 0 个
```

账户信息包含:
- ✅ 邮箱地址
- ✅ Token
- ✅ 订阅类型 (Free/Starter/Pro/Max)
- ✅ 额度信息 (剩余/已用/总计)
- ✅ 订阅周期结束时间
- ✅ 自动续订状态
- ✅ 试用天数
- ✅ 过期时间

### 部分失败

```
导入完成!

成功: 2 个
失败: 1 个

失败详情:
Token 2: 获取用户信息失败: HTTP错误: 401 Unauthorized
```

可能原因:
- Token 已过期
- Token 格式错误
- 网络连接问题

## 🔍 验证导入结果

### 方法 1: 查看账户列表
- 新账户出现在列表中
- 显示完整的账户信息

### 方法 2: 查看账户详情
- 点击账户卡片查看详细信息
- 验证邮箱、订阅类型、额度等

### 方法 3: 查看数据文件
- 打开 `accounts.json` 文件
- 验证账户数据是否正确保存

## 📚 更多资源

- [完整功能文档](./TOKEN_IMPORT_FEATURE.md)
- [测试指南](../test/token_import_test.md)
- [实现总结](./IMPLEMENTATION_SUMMARY.md)

## 🆘 需要帮助?

如果遇到问题:
1. 查看后端控制台日志
2. 检查错误提示信息
3. 参考测试指南进行排查
4. 查看完整功能文档

