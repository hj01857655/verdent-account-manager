# Verdent AI è´¦æˆ·ç®¡ç†å™¨ - å®Œæ•´æ‰“åŒ…æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•å°† Verdent AI è´¦æˆ·ç®¡ç†å™¨æ‰“åŒ…æˆç‹¬ç«‹çš„ Windows å®‰è£…åŒ…,åŒ…æ‹¬:
1. Python è‡ªåŠ¨æ³¨å†Œè„šæœ¬æ‰“åŒ…æˆ exe
2. Tauri æ¡Œé¢åº”ç”¨æ‰“åŒ…
3. é›†æˆæµ‹è¯•å’Œéƒ¨ç½²

---

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

### å¿…éœ€è½¯ä»¶
- **Python 3.8+**: ç”¨äºè¿è¡Œå’Œæ‰“åŒ… Python è„šæœ¬
- **Node.js 16+**: ç”¨äºæ„å»ºå‰ç«¯
- **Rust 1.70+**: ç”¨äºç¼–è¯‘ Tauri åç«¯
- **PyInstaller**: Python æ‰“åŒ…å·¥å…·

### å®‰è£…ä¾èµ–

```bash
# Python ä¾èµ–
pip install DrissionPage requests pyinstaller

# Node.js ä¾èµ–
cd Verdent_account_manger
npm install
```

---

## ğŸ“¦ æ‰“åŒ…æµç¨‹

### æ–¹å¼ 1: ä¸€é”®æ‰“åŒ… (æ¨è)

```bash
# è¿è¡Œä¸€é”®æ‰“åŒ…è„šæœ¬
build_all.bat
```

æ­¤è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆ:
1. Python è„šæœ¬æ‰“åŒ…
2. å¤åˆ¶ exe åˆ° Tauri èµ„æºç›®å½•
3. Tauri åº”ç”¨æ‰“åŒ…
4. ç”Ÿæˆå®‰è£…åŒ…

---

### æ–¹å¼ 2: åˆ†æ­¥æ‰“åŒ…

#### æ­¥éª¤ 1: æ‰“åŒ… Python è„šæœ¬

```bash
# è¿è¡Œ Python æ‰“åŒ…è„šæœ¬
build_python.bat
```

**è¾“å‡º**:
- `dist/verdent_auto_register.exe` - ç‹¬ç«‹çš„ Python å¯æ‰§è¡Œæ–‡ä»¶
- `Verdent_account_manger/resources/verdent_auto_register.exe` - å¤åˆ¶åˆ° Tauri èµ„æºç›®å½•

**éªŒè¯**:
```bash
# æµ‹è¯•æ‰“åŒ…çš„ exe æ–‡ä»¶
test_python_exe.bat
```

#### æ­¥éª¤ 2: æ‰“åŒ… Tauri åº”ç”¨

```bash
# è¿è¡Œ Tauri æ‰“åŒ…è„šæœ¬
build_tauri.bat
```

**è¾“å‡º**:
- `Verdent_account_manger/src-tauri/target/release/bundle/msi/` - MSI å®‰è£…åŒ…
- `Verdent_account_manger/src-tauri/target/release/bundle/nsis/` - NSIS å®‰è£…åŒ…
- `Verdent_account_manger/src-tauri/target/release/verdent-account-manager.exe` - ç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶

---

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### Python æ‰“åŒ…é…ç½®

**æ–‡ä»¶**: `verdent_auto_register.spec`

å…³é”®é…ç½®:
- `hiddenimports`: æ˜¾å¼å£°æ˜æ‰€æœ‰ä¾èµ–åŒ…
- `console=True`: ä¿ç•™æ§åˆ¶å°çª—å£ä»¥æ˜¾ç¤ºæ—¥å¿—
- `onefile`: æ‰“åŒ…æˆå•ä¸ª exe æ–‡ä»¶

### Tauri èµ„æºé…ç½®

**æ–‡ä»¶**: `Verdent_account_manger/src-tauri/tauri.conf.json`

```json
{
  "bundle": {
    "active": true,
    "resources": [
      "resources/verdent_auto_register.exe"
    ]
  }
}
```

### è¿è¡Œæ—¶è·¯å¾„å¤„ç†

**æ–‡ä»¶**: `Verdent_account_manger/src-tauri/src/commands.rs`

```rust
fn find_register_executable(app_handle, current_dir) {
    // 1. ç”Ÿäº§æ¨¡å¼: æŸ¥æ‰¾æ‰“åŒ…çš„ exe
    let exe_path = resource_dir().join("resources/verdent_auto_register.exe");
    
    // 2. å¼€å‘æ¨¡å¼: æŸ¥æ‰¾ Python è„šæœ¬
    let script_path = current_dir.join("verdent_auto_register.py");
}
```

---

## âœ… æµ‹è¯•æ¸…å•

### å¼€å‘ç¯å¢ƒæµ‹è¯•
- [ ] Python è„šæœ¬å¯ä»¥ç›´æ¥è¿è¡Œ
- [ ] Tauri å¼€å‘æ¨¡å¼å¯ä»¥è°ƒç”¨ Python è„šæœ¬
- [ ] è‡ªåŠ¨æ³¨å†ŒåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] éšæœºå¯†ç ç”ŸæˆåŠŸèƒ½æ­£å¸¸å·¥ä½œ

### æ‰“åŒ…åæµ‹è¯•
- [ ] Python exe å¯ä»¥ç‹¬ç«‹è¿è¡Œ
- [ ] Python exe æ”¯æŒæ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°
- [ ] Tauri åº”ç”¨å¯ä»¥æ‰¾åˆ°å¹¶è°ƒç”¨ exe
- [ ] åœ¨æ²¡æœ‰ Python ç¯å¢ƒçš„æœºå™¨ä¸Šæµ‹è¯•

### åŠŸèƒ½æµ‹è¯•
- [ ] è‡ªåŠ¨æ³¨å†Œå•ä¸ªè´¦æˆ·
- [ ] æ‰¹é‡æ³¨å†Œå¤šä¸ªè´¦æˆ·
- [ ] ä½¿ç”¨å›ºå®šå¯†ç 
- [ ] ä½¿ç”¨éšæœºå¯†ç 
- [ ] æ— å¤´æ¨¡å¼è¿è¡Œ
- [ ] Token æå–æˆåŠŸ
- [ ] è´¦æˆ·ä¿¡æ¯è‡ªåŠ¨åˆ·æ–°

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1: PyInstaller æ‰“åŒ…å¤±è´¥

**é”™è¯¯**: `ModuleNotFoundError: No module named 'DrissionPage'`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²å®‰è£…
pip install DrissionPage requests

# ä½¿ç”¨ spec æ–‡ä»¶æ‰“åŒ…
pyinstaller --clean verdent_auto_register.spec
```

### é—®é¢˜ 2: exe æ–‡ä»¶è¿è¡Œæ—¶æ‰¾ä¸åˆ°æ¨¡å—

**é”™è¯¯**: `ImportError: cannot import name 'xxx'`

**è§£å†³æ–¹æ¡ˆ**:
åœ¨ `verdent_auto_register.spec` çš„ `hiddenimports` ä¸­æ·»åŠ ç¼ºå¤±çš„æ¨¡å—

### é—®é¢˜ 3: Tauri æ‰“åŒ…åæ‰¾ä¸åˆ° exe

**é”™è¯¯**: `æœªæ‰¾åˆ°è‡ªåŠ¨æ³¨å†Œå¯æ‰§è¡Œæ–‡ä»¶`

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®è®¤ `Verdent_account_manger/resources/verdent_auto_register.exe` å­˜åœ¨
2. æ£€æŸ¥ `tauri.conf.json` ä¸­çš„ `bundle.resources` é…ç½®
3. é‡æ–°è¿è¡Œ `build_python.bat`

### é—®é¢˜ 4: DrissionPage æµè§ˆå™¨é©±åŠ¨é—®é¢˜

**é”™è¯¯**: `ChromiumPage åˆå§‹åŒ–å¤±è´¥`

**è§£å†³æ–¹æ¡ˆ**:
DrissionPage ä¼šè‡ªåŠ¨ä¸‹è½½æµè§ˆå™¨é©±åŠ¨,ç¡®ä¿:
1. ç½‘ç»œè¿æ¥æ­£å¸¸
2. æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
3. ç”¨æˆ·æœ‰å†™å…¥æƒé™

---

## ğŸ“Š æ–‡ä»¶å¤§å°å‚è€ƒ

| æ–‡ä»¶ | å¤§å° | è¯´æ˜ |
|------|------|------|
| `verdent_auto_register.exe` | ~30-50 MB | Python è„šæœ¬æ‰“åŒ…å |
| `verdent-account-manager.exe` | ~10-15 MB | Tauri åº”ç”¨ä¸»ç¨‹åº |
| MSI å®‰è£…åŒ… | ~50-70 MB | åŒ…å«æ‰€æœ‰èµ„æº |
| NSIS å®‰è£…åŒ… | ~45-65 MB | å‹ç¼©åçš„å®‰è£…åŒ… |

---

## ğŸš€ éƒ¨ç½²å»ºè®®

### å‘å¸ƒå‰æ£€æŸ¥
1. åœ¨å¹²å‡€çš„ Windows è™šæ‹Ÿæœºä¸Šæµ‹è¯•
2. ç¡®è®¤æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
3. æ£€æŸ¥å®‰è£…åŒ…å¤§å°æ˜¯å¦åˆç†
4. éªŒè¯å¸è½½åŠŸèƒ½

### ç‰ˆæœ¬ç®¡ç†
- æ›´æ–° `Verdent_account_manger/src-tauri/tauri.conf.json` ä¸­çš„ç‰ˆæœ¬å·
- æ›´æ–° `Verdent_account_manger/package.json` ä¸­çš„ç‰ˆæœ¬å·
- åˆ›å»º Git æ ‡ç­¾

### åˆ†å‘æ–¹å¼
- GitHub Releases
- è‡ªå»ºä¸‹è½½æœåŠ¡å™¨
- ä¼ä¸šå†…éƒ¨åˆ†å‘å¹³å°

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-11-15)
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… Python è„šæœ¬æ‰“åŒ…æ”¯æŒ
- âœ… éšæœºå¯†ç ç”ŸæˆåŠŸèƒ½
- âœ… è‡ªåŠ¨è´¦æˆ·ä¿¡æ¯åˆ·æ–°
- âœ… å¼€å‘/ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢

